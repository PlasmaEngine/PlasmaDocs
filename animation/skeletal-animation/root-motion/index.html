<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="PlasmaDev">
    <link rel="canonical" href="https://plasmaengine.github.io/PlasmaDocs/animation/skeletal-animation/root-motion/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Root Motion - PlasmaDocs</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Root Motion", url: "#_top", children: [
              {title: "Defining Root Motion", url: "#defining-root-motion" },
              {title: "Applying Root Motion", url: "#applying-root-motion" },
              {title: "See Also", url: "#see-also" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../simple-animation-component/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../simple-animation-component/" class="btn btn-xs btn-link">
        Simple Animation Component
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../joint-override-component/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../joint-override-component/" class="btn btn-xs btn-link">
        Joint Override Component
      </a>
    </div>
    
  </div>

    

    <h1 id="root-motion">Root Motion</h1>
<p>By default a skeletal animation has its origin at the position of the game object on which it is played. Relative to that location  animations will move the bones and the skinned mesh will move accordingly. The game object itself stays fixed at that location, though.</p>
<p>This is sufficient if either the game object shouldn't change its location anyway, or when any change in position is controlled through other means anyway. For example a player character might be moved around the world through <a href="../../../custom-code/custom-code-overview/">custom code</a> and a walking animation is only played to visualize the action. This approach can be the right solution, depending on the type of game.</p>
<p>Such a method is, however, very prone to <em>foot sliding</em>, meaning an artifact where the feet move, but don't <em>stick</em> to the ground. It the movement of a game object should generally be determined by the exact blend of animation clips, it is better to have the motion be part of each animation clip.</p>
<p>For example a <em>walk animations</em> would contain the information into which direction and at what speed a game object should be moved to fit the animation. When a <em>forward</em> and <em>walk right</em> animation get mixed together, their root motion information is equally mixed and the object would be moved diagonally.</p>
<h2 id="defining-root-motion">Defining Root Motion</h2>
<p>There are multiple ways how root motion could be defined for a clip. It could come from a dedicated bone for overall motion, or it could be extracted from how the feet touch the ground, etc.</p>
<p>For the time being Plasma only implements the most simple method. An <a href="../animation-clip-asset/">animation clip</a> either has no root motion at all, or it has a <em>constant motion</em> that is used for the entire clip. This is sufficient to build basic locomotion animations.</p>
<p>Finally, for now only <em>positional</em> root motion is available. That means an animation can change the position of a game object, but not its rotation.</p>
<p>It is planned to add more sophisticated methods for root motion in the future.</p>
<h2 id="applying-root-motion">Applying Root Motion</h2>
<p>The <a href="../simple-animation-component/">simple animation component</a> and the <a href="../animation-controller/animation-controller-component/">animation controller component</a> get the root motion data from the played animation clips. There are these modes to apply it to their owner game object:</p>
<ul>
<li>
<p><code>Ignore</code>: No root motion is applied, the game object will not be moved by the animation.</p>
</li>
<li>
<p><code>ApplyToOwner</code>: Any available root motion is directly applied to the game object and thus moves it without restriction. This mode is useful for objects that have to follow a fixed path. For example moving platforms (which are <em>kinematic</em> <a href="../../physics/jolt/actors/jolt-dynamic-actor-component.md">physics actors</a>), or objects that don't physically interact with the player. This mode is not suited for characters that should obey physical restrictions.</p>
</li>
<li>
<p><code>SendMoveCharacterMsg</code>: If this mode is used, root motion is not applied to any object, instead the <a href="../../../runtime/world/world-messaging/">message</a> <code>plMsgMoveCharacterController</code> is sent to the <em>top most game object</em> in the hierarchy. This way, if there is also a <a href="../../physics/jolt/special/jolt-character-controller.md">character controller</a> or other component that accepts this type of message, it can apply the root motion as it sees fit.</p>
</li>
</ul>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="../skeletal-animation-overview/">Skeletal Animations</a></li>
<li><a href="../simple-animation-component/">Simple Animation Component</a></li>
<li><a href="../animation-controller/animation-controller-component/">Animation Controller Component</a></li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../simple-animation-component/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../simple-animation-component/" class="btn btn-xs btn-link">
        Simple Animation Component
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../joint-override-component/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../joint-override-component/" class="btn btn-xs btn-link">
        Joint Override Component
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/noraj/mkdocs-windmill-dark">Windmill Dark</a> theme by Alexandre ZANNI (noraj).</p>
</footer>

</body>
</html>