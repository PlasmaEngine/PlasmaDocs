<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="PlasmaDev">
    <link rel="canonical" href="https://plasmaengine.github.io/PlasmaDocs/graphics/shaders/shader-templates/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Shader Templates - PlasmaDocs</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Shader Templates", url: "#_top", children: [
              {title: "Creating a New Shader from a Template", url: "#creating-a-new-shader-from-a-template" },
              {title: "Adding a Shader Template", url: "#adding-a-shader-template" },
              {title: "See Also", url: "#see-also" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../shaders-overview/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../shaders-overview/" class="btn btn-xs btn-link">
        Shaders
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../shader-resources/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../shader-resources/" class="btn btn-xs btn-link">
        Shaders Resources
      </a>
    </div>
    
  </div>

    

    <h1 id="shader-templates">Shader Templates</h1>
<p>Writing a custom shader from scratch is a rather difficult task, especially if you want a custom material shader, that has all the PBR lighting features. However, using <em>shader templates</em> this becomes quite straight forward.</p>
<p>A shader template is simply a functioning shader file that you can edit. Shaders are generally written in <a href="https://docs.microsoft.com/windows/win32/direct3dhlsl/dx-graphics-hlsl">HLSL</a>, though Plasma shader files have additional sections for configuring various other aspects. There are different templates available for common use cases.</p>
<h2 id="creating-a-new-shader-from-a-template">Creating a New Shader from a Template</h2>
<p>Open a <a href="../../materials/materials-overview.md">material asset</a> that should use a custom shader. As it's <code>ShaderMode</code> select <em>From File</em>. Now click the browse (<code>...</code>) button next to the <code>Shader</code> property, to open the context menu:</p>
<p><img alt="Menu to create a shader template" src="../media/create-shader-template.png" /></p>
<p>From this menu select <strong>Create Shader From Template...</strong>. The following dialog is shown:</p>
<p><img alt="Shader template editor" src="../media/shader-template-dlg.png" /></p>
<p>Select the output file name and which template to create the shader from. When you select a template, the area below shows additional options. These simply select what code from the template should be included in your new file and is purely for convenience to get started more easily. You can add and remove any feature manually afterwards as needed.</p>
<p>Once you click <code>OK</code> the shader file is created, applied to the material and opened in a text editor for you to start editing. When you make structural changes (exposed parameters, permutation variables used and such) you need to <a href="../../../assets/assets-overview/#asset-transform">transform</a> the material for the changes to properly show up.</p>
<p>As long as you only modify the HLSL code, you can also just press <code>F4</code> to <a href="../../../runtime/application/common-application-features/#reload-resources">reload resources</a> at any time. If there are any errors, they are shown in the <a href="../../../debugging/logging/">log</a>.</p>
<h2 id="adding-a-shader-template">Adding a Shader Template</h2>
<p>If you want to add another shader template itself, have a look at the folder <em>Data/Tools/plEditor/ShaderTemplates</em>. All you need to do is add another <em>.plShaderTemplate</em> file here. Shader templates have an additional <code>TEMPLATE_VARS</code> section at the beginning that define what options to display in the dialog.</p>
<p>The final shader code is built by running a C preprocessor over the file, but instead of replacing <code>#if</code> / <code>#endif</code> sections, it only looks at <code>%if</code> / <code>%endif</code> (using a percentage sign rather than a hash), to generate the output.</p>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="../shaders-overview/">Shaders</a></li>
<li><a href="../../../tools/shadercompiler/">ShaderCompiler</a></li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../shaders-overview/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../shaders-overview/" class="btn btn-xs btn-link">
        Shaders
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../shader-resources/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../shader-resources/" class="btn btn-xs btn-link">
        Shaders Resources
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/noraj/mkdocs-windmill-dark">Windmill Dark</a> theme by Alexandre ZANNI (noraj).</p>
</footer>

</body>
</html>