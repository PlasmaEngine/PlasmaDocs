<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>Hierarchies - Docs | Plasma Engine</title>
        <link href="../../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">

        <script src="../../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../../..">Docs | Plasma Engine</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="/getting_started/" class="nav-link">Getting Started</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Manual <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../" class="dropdown-item">Manual</a>
</li>
                                    
<li>
    <a href="../../ai/" class="dropdown-item">AI</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Architecture</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../architecture/architecture/" class="dropdown-item">Architecture</a>
</li>
            
<li>
    <a href="../../architecture/archetypes/archtype_basics.markdown" class="dropdown-item">Archtypes</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cogs</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../architecture/cogs/cogs/" class="dropdown-item">Cogs</a>
</li>
            
<li>
    <a href="../../architecture/cogs/gameobjectsconcept/" class="dropdown-item">Game Objects</a>
</li>
            
<li>
    <a href="../../architecture/cogs/objectstore/" class="dropdown-item">Object Store</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Objects</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../architecture/objects/objects/" class="dropdown-item">Objects</a>
</li>
            
<li>
    <a href="../../architecture/objects/gamesession/" class="dropdown-item">Gamesession</a>
</li>
            
<li>
    <a href="../../architecture/objects/spaces/" class="dropdown-item">Spaces</a>
</li>
            
<li>
    <a href="../../architecture/objects/levelsettings/" class="dropdown-item">Levelsettings</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Resources</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../architecture/resources/resource.markdown" class="dropdown-item">Resources</a>
</li>
            
<li>
    <a href="../../architecture/resources/level/" class="dropdown-item">Levels</a>
</li>
            
<li>
    <a href="../../architecture/fonts/fonts.markdown" class="dropdown-item">Fonts</a>
</li>
            
<li>
    <a href="../../architecture/resources/resourcestable.markdown" class="dropdown-item">Resource Table</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                    
<li>
    <a href="../../audio/" class="dropdown-item">Audio</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Editor</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../editor/" class="dropdown-item">Editor</a>
</li>
            
<li>
    <a href="../../editor/tags/" class="dropdown-item">Tags</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../reference/" class="dropdown-item">Index</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../../source_docs/getting_started.md" class="dropdown-item">Getting Started</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/plasma_code/" class="dropdown-item">Plasma Code</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/plasma_overview/" class="dropdown-item">Plasma Overview</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/components.md" class="dropdown-item">Components</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/custom_event_names/" class="dropdown-item">Custom Event Names</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/editor/" class="dropdown-item">Editor</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/engine/" class="dropdown-item">Engine</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/enums/" class="dropdown-item">Enums</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/meta_bindings.markdown" class="dropdown-item">Meta Binding</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/platform/" class="dropdown-item">Adding Platforms</a>
</li>
                                    
<li>
    <a href="../../../../source_docs/widgets/" class="dropdown-item">Widgets</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/PlasmaEngine/PlasmaDocs/edit/master/docs/manual/plasmamanual/physics/hierarchies.markdown" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p><a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/code_reference/class_reference/hierarchy.markdown"> Hierarchies</a> allows physics to building complicated objects from simpler pieces</p>
<p>##  Basic understanding
To understand the basics of hierarchies, it's first important to conceptually understand what a <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/plasma_editor_documentation/plasmamanual/physics/rigidbody.markdown">RigidBody</a> and {icon university}[[../Colliders | Collider's]] role is. A Collider defines a shape and contains certain physical attributes such as density, volume, friction, etc... A RigidBody gives an object inertia (e.g. mass, velocity, etc...). This gives a few meanings to objects in a hierarchy. If an object doesn't have a Collider, then it doesn't have volume or density, which means it can't contribute to the mass of a RigidBody. If an object doesn't have a RigidBody, then it may have collision properties, but it cannot be moved by physics interaction.</p>
<p>This gives four simple objects configurations:
 - No RigidBody no Collider: Physics doesn't do anything.
 - Collider only: Physics detects collision and resolves collision, but this object cannot be moved by physics.
 - RigidBody only: The object is treated as a point-mass that cannot be collided with. Mass is assumed to be 1 for forces.
 - Both: A regular object that computes mass from the Collider and will be affected by forces, collisions, etc...</p>
<p>The next easiest tree to look at is one with only Colliders. As each Collider only represents another collision volume, this tree would logically be the same as independent objects in the scene, ignoring how the transform data is computed. Physics will not move these objects, other objects can collide as normal, and each Collider defines its own materials for resolution.</p>
<p>The first interesting example is an object with a RigidBody at the root and Collider children.</p>
<p><img alt="image" src="https://raw.githubusercontent.com/PlasmaEngine/PlasmaDocs/master/media/46360.png" /></p>
<p>In this hierarchy, the root has a RigidBody and Collider which implies that the root has velocity and mass. The children just have Colliders which imply that they have collision and could contribute to mass. As a root in the hierarchy typically moves children with it, physics chooses to "attach" the child Colliders to the RigidBody, i.e. the entire hierarchy acts as one RigidBody with multiple collision shapes. Each Collider still retains the properties of its material, such as friction and restitution. If one Collider has a larger mass (from the density and volume) then the root RigidBody's total mass properties will reflect this.</p>
<p>#  Advanced Hierarchies: Nested RigidBodies
From here a larger nested tree can be built with the same basic structure to make a more complicated object. The tree can even have Cogs in the middle without a Collider. The real question is how do nested RigidBodies affect physics? This ends up depending on the <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/code_reference/enum_reference.markdown#rigidbodydynamicstate">DynamicState</a> of the RigidBody.</p>
<p>###  Dynamic RigidBodies
When a RigidBody is marked as being <code>Dynamic</code>, it signifies that it should be an independent entity that is free to move and resolve as normal. This means that any dynamic RigidBody in the middle of a hierarchy behaves as if its sub-tree was a completely independent object. By keeping the objects in the hierarchy, logical organization is preserved while still allowing free movement. Archetypes can be made from a larger collection of individual objects (e.g. cars and their tires). Additionally, a RigidBody can be quickly toggled to another DynamicState enum.</p>
<p>###  Static RigidBodies
If a RigidBody is marked as <code>Static</code> then it behaves as if there's no RigidBody in that sub-tree. This is particularly useful if a sub-tree starts static but then switches to dynamic at a later point in time.</p>
<p>###  Kinematic RigidBodies
If a RigidBody is marked as <code>Kinematic</code> then it behaves like a <code>Static</code> body in the tree with one main exception: kinematic implies that an object can apply forces to other objects but cannot receive forces. In this case a kinematic sub-tree can push other objects but will not receive forces back. This can be useful to define a sub-portion of tree for a player to push objects without being pushed back.</p>
<p>#  Non-Uniform Scale
One common problem with building hierarchies is when a parent object is non-uniformly scaled. This introduces what is known as a skew. Skews are currently not supported by the physics system and will be stripped out of any transformation. Typically all root objects should be configured with uniform scales.</p>
<p>#  Massless Children
A common scenario when building complicated hierarchies is wanting to add a collision volume for game logic reasons without affecting the overall mass properties of the hierarchy. To do this, the physics systems supports a special configuration on the <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/plasma_editor_documentation/plasmamanual/physics/physicsmaterial.markdown">PhysicsMaterial</a>. If a material's density is set to 0 (this has to be manually typed) then the object doesn't contribute to a RigidBody's total mass.</p>
<p>#  Troubleshooting
When building a larger hierarchy, each Collider is still treated as a distinct object for collision detection. This means that it's possible for another object to get sandwiched between two flush Colliders (e.g. a table and its legs). Currently no solution is available to prevent this behavior. </p>
<hr />
<p>#  Related Materials
 ##  Manual
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/plasma_editor_documentation/plasmamanual/physics/rigidbody.markdown">rigidbody.markdown</a>
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/plasma_editor_documentation/plasmamanual/physics/colliders.markdown">colliders.markdown</a>
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/plasma_editor_documentation/plasmamanual/physics/physicsmaterial.markdown">physicsmaterial.markdown</a></p>
<p>##  Reference
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/code_reference/class_reference/hierarchy.markdown">Hierarchy</a>
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/code_reference/class_reference/rigidbody.markdown">RigidBody</a>
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/code_reference/class_reference/collider.markdown">Collider</a>
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/code_reference/class_reference/physicsmaterial.markdown">PhysicsMaterial</a>
- <a href="https://github.com/PlasmaEngine/PlasmaDocs/blob/master/code_reference/enum_reference.markdown#rigidbodydynamicstate">RigidBodyDynamicState</a></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2021 Plasma Engine. Released under the MIT License.</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../../js/base.js" defer></script>
        <script src="../../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
