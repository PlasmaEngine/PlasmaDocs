<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="PlasmaDev">
    <link rel="canonical" href="https://plasmaengine.github.io/PlasmaDocs/build/clang-on-windows/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Building with Clang on Windows - PlasmaDocs</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Building with Clang on Windows", url: "#_top", children: [
              {title: "Using Clang/LLVM with the CMake GUI", url: "#using-clangllvm-with-the-cmake-gui" },
              {title: "Using the Clang frontend for Visual Studio with the CMake GUI", url: "#using-the-clang-frontend-for-visual-studio-with-the-cmake-gui" },
              {title: "See Also", url: "#see-also" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../cmake-config/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../cmake-config/" class="btn btn-xs btn-link">
        CMake Setup
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../building-plasma/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../building-plasma/" class="btn btn-xs btn-link">
        Building Plasma Engine
      </a>
    </div>
    
  </div>

    

    <h1 id="building-with-clang-on-windows">Building with Clang on Windows</h1>
<p>You can build Plasma Engine using Clang on Windows. This can be useful to find and fix compilation errors and warnings, that do not happen with MSVC. However, as Clang support on Windows is still experimental, you may not be able to build a working executable.</p>
<h2 id="using-clangllvm-with-the-cmake-gui">Using Clang/LLVM with the CMake GUI</h2>
<ol>
<li>Get the latest clang windows distribution: <a href="https://releases.llvm.org/download.html">https://releases.llvm.org/download.html</a> (the 64-bit version is recommended)</li>
<li>Create a new solution for the Clang build by pointing <em>Where to build the binaries</em> to a new location.</li>
<li>Press <strong>Configure</strong> once, a dialog will show up.</li>
<li>Choose <strong>Ninja</strong> as the generator. (Note: Get ninja from <a href="https://ninja-build.org">https://ninja-build.org</a> and put it in your <strong>PATH</strong>)</li>
<li>Choose <em>Specify native compilers</em> then hit <strong>Finish</strong>.</li>
<li>Specify the <em>C</em> and <em>C++</em> compiler. When using the default paths they are located at:<ul>
<li>C: C:/Program Files/LLVM/bin/clang.exe</li>
<li>C++: C:/Program Files/LLVM/bin/clang++.exe</li>
</ul>
</li>
<li>Hit <strong>Finish</strong></li>
<li>You will now get an error from cmake <code>No CMAKE_RC_COMPILER could be found</code>. Check the <strong>Advanced</strong> checkbox to show additional options and point <code>CMAKE_RC_COMPILER</code> to <code>C:\Program Files (x86)\Windows Kits\10\bin\&lt;windows-sdk-version&gt;\x64\rc.exe</code> (for example <code>C:\Program Files (x86)\Windows Kits\10\bin\10.0.19041.0\x64\rc.exe</code>).</li>
<li>Hit <strong>Configure</strong></li>
<li>Hit <strong>Generate</strong></li>
<li><code>cd</code> into the build location and run <code>ninja</code> to build.</li>
</ol>
<h2 id="using-the-clang-frontend-for-visual-studio-with-the-cmake-gui">Using the Clang frontend for Visual Studio with the CMake GUI</h2>
<p>The clang frontend for the Visual Studio Compiler is no longer in development. Using the official LLVM clang is recommended.</p>
<ol>
<li>Create a new solution for the Clang build by pointing <em>Where to build the binaries</em> to a new location.</li>
<li>Press <strong>Configure</strong> once, a dialog will show up.</li>
<li>Choose the desired Visual Studio generator at the top.</li>
<li>In the field <strong>Optional toolset to use (argument to -T)</strong> type <strong>v140_clang_c2</strong></li>
<li>Finish the dialog and run 'Configure'.</li>
<li>Check the <strong>Advanced</strong> checkbox to show additional options.</li>
<li><strong>Disable PLASMA_USE_PCH</strong>, as the Clang build will not work with precompiled headers.</li>
<li>You may also want to <strong>disable PLASMA_ENABLE_FOLDER_UNITY_FILES</strong> as that makes it easier to see from which file a compilation error originated.</li>
<li>Finish the <a href="../cmake-config/">CMake configuration</a>, open the solution in Visual Studio and start compiling.</li>
</ol>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="../build-windows/">Windows Builds</a></li>
</ul>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../cmake-config/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../cmake-config/" class="btn btn-xs btn-link">
        CMake Setup
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../building-plasma/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../building-plasma/" class="btn btn-xs btn-link">
        Building Plasma Engine
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/noraj/mkdocs-windmill-dark">Windmill Dark</a> theme by Alexandre ZANNI (noraj).</p>
</footer>

</body>
</html>